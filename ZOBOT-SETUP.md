# ğŸ¤– Vaangigo Zobot Integration Guide

Complete guide to integrate Venmathi AI chatbot with Zoho SalesIQ (Zobot).

---

## ğŸ¯ What You Get

- **AI-Powered Shopping Assistant** - Venmathi helps customers discover handmade Indian crafts
- **Context-Aware Conversations** - Remembers names and conversation history
- **Bilingual Support** - English and Tanglish (Tamil-English mix)
- **Product Knowledge** - 30+ products with prices, ratings, and details
- **Instant Responses** - Powered by Groq AI (Llama 3.3 70B)

---

## ğŸ“‹ Prerequisites

- **Zoho SalesIQ Account** (Free or Paid plan)
- **Vaangigo Chatbot Deployed** on Vercel
- **Webhook URL**: `https://chatbot-vaangigo.vercel.app/api/webhook`

---

## ğŸš€ Setup Steps

### Step 1: Access Zoho SalesIQ

1. Go to https://salesiq.zoho.com
2. Log in to your account
3. Select your brand/website

### Step 2: Create a New Bot

1. Click **Settings** (gear icon)
2. Go to **Bots**
3. Click **Add Bot** or **Create Bot**
4. Choose **Codeless Bot** or **Custom Bot**

### Step 3: Configure Bot Flow

#### Option A: Simple Webhook Bot (Recommended)

1. **Bot Name**: `Venmathi - Vaangigo Assistant`
2. **Welcome Message**: Leave empty (webhook handles it)
3. Add **Webhook Action**:
   - **Webhook URL**: `https://chatbot-vaangigo.vercel.app/api/webhook`
   - **Method**: POST
   - **Trigger**: On every message
4. **Response Mapping**:
   - Map `replies[0].text` to bot response
5. Save and activate

#### Option B: Advanced Flow

```
Start
  â†“
Webhook Action (Trigger)
  â†“
Display Response
  â†“
Wait for User Input
  â†“
Webhook Action (Message)
  â†“
Display Response
  â†“
Loop back to Wait
```

### Step 4: Configure Webhook Settings

**URL**: `https://chatbot-vaangigo.vercel.app/api/webhook`

**Method**: POST

**Headers**:
```json
{
  "Content-Type": "application/json"
}
```

**Request Body** (Auto-generated by Zobot):
```json
{
  "handler": "trigger",
  "operation": "chat",
  "visitor": {
    "id": "visitor_id",
    "name": "Visitor Name"
  },
  "request": {
    "message": {
      "text": "User message here"
    }
  },
  "org_id": "your_org_id"
}
```

**Response Format** (From webhook):
```json
{
  "replies": [
    {
      "text": "Bot response here"
    }
  ],
  "suggestions": ["Option 1", "Option 2"],
  "success": true
}
```

### Step 5: Test the Bot

1. Click **Test Bot** in Zobot editor
2. Type "hi" or any message
3. You should see Venmathi's greeting
4. Continue chatting to test conversation flow

### Step 6: Deploy to Website

1. Click **Publish** or **Activate Bot**
2. Go to **Settings > Installation**
3. Copy the SalesIQ embed code
4. Add to your website's HTML (before `</body>` tag)

```html
<!-- Zoho SalesIQ Code -->
<script type="text/javascript">
var $zoho=$zoho || {};$zoho.salesiq = $zoho.salesiq || {widgetcode:"your_widget_code", values:{},ready:function(){}};
var d=document;s=d.createElement("script");s.type="text/javascript";s.id="zsiqscript";s.defer=true;
s.src="https://salesiq.zoho.com/widget";t=d.getElementsByTagName("script")[0];t.parentNode.insertBefore(s,t);
</script>
```

---

## ğŸ¨ Customization

### Bot Appearance

1. Go to **Settings > Brands > Appearance**
2. Customize:
   - Bot name: "Venmathi"
   - Bot avatar: Upload Vaangigo logo
   - Chat widget color: Match your brand
   - Welcome message: "Chat with Venmathi!"

### Bot Behavior

1. **Working Hours**: Set when bot is active
2. **Fallback**: What happens if webhook fails
3. **Handoff**: Transfer to human agent if needed

---

## ğŸ§ª Testing

### Test Webhook Directly

```bash
curl -X POST https://chatbot-vaangigo.vercel.app/api/webhook \
  -H "Content-Type: application/json" \
  -d '{
    "handler": "trigger",
    "visitor": {"id": "test123"},
    "request": {"message": {"text": "hi"}}
  }'
```

**Expected Response**:
```json
{
  "replies": [
    {
      "text": "Hey there! ğŸ‘‹ I'm Venmathi from Vaangigo! So happy to meet you ğŸ˜Š..."
    }
  ],
  "suggestions": ["Share my name", "Browse products", "Gift ideas"],
  "success": true
}
```

### Test Conversation Flow

1. **First Message**: "hi"
   - Bot greets and asks for name
2. **Share Name**: "Tharun"
   - Bot acknowledges and offers help
3. **Ask Question**: "show me sarees"
   - Bot suggests products with prices
4. **Follow-up**: "what about gifts for dad?"
   - Bot recommends relevant items

---

## ğŸ“Š Webhook Request/Response Details

### Request from Zobot (First Message)

```json
{
  "handler": "trigger",
  "operation": "chat",
  "visitor": {
    "id": "12345",
    "name": "John Doe",
    "email": "john@example.com"
  },
  "org_id": "67890"
}
```

### Request from Zobot (Subsequent Messages)

```json
{
  "handler": "message",
  "operation": "message",
  "visitor": {
    "id": "12345",
    "name": "John Doe"
  },
  "request": {
    "message": {
      "text": "I need a gift for my mom"
    }
  },
  "org_id": "67890"
}
```

### Response to Zobot

```json
{
  "replies": [
    {
      "text": "For your mom, I'd suggest our beautiful Kanchipuram Silk Saree â‚¹6,800 (4.8â˜…) or Terracotta Jewelry Set â‚¹3,200! ğŸâœ¨"
    }
  ],
  "suggestions": [
    "Show sarees",
    "Show jewelry",
    "More gift ideas"
  ],
  "success": true,
  "sessionId": "12345"
}
```

---

## ğŸ”§ Troubleshooting

### Bot Not Responding

**Issue**: "Error while contacting webhook server"

**Solutions**:
1. âœ… Verify webhook URL is correct
2. âœ… Check Vercel deployment is live
3. âœ… Test webhook directly with curl
4. âœ… Check Vercel logs for errors
5. âœ… Ensure `GROQ_API_KEY` is set in environment variables

### Bot Responds Only Once

**Issue**: First message works, but no response after

**Solutions**:
1. âœ… Check Zobot flow has loop back to webhook
2. âœ… Verify `handler: "message"` is being sent
3. âœ… Check webhook logs for incoming requests
4. âœ… Ensure response format matches Zobot expectations

### Slow Responses

**Issue**: Bot takes 5-10 seconds to respond

**Solutions**:
1. âœ… Normal for AI processing (3-5 seconds)
2. âœ… Add "typing" indicator in Zobot
3. âœ… Consider caching common responses
4. âœ… Use faster AI model if needed

### Wrong Language

**Issue**: Bot responds in wrong language

**Solutions**:
1. âœ… Bot auto-detects Tanglish vs English
2. âœ… Use Tanglish words (da, bro, macha) to trigger Tanglish mode
3. âœ… Modify system prompt in `api/webhook.js` if needed

---

## ğŸ“± Features

### What Venmathi Can Do

âœ… **Greet customers warmly**
âœ… **Remember names** and use them in conversation
âœ… **Suggest products** with prices and ratings
âœ… **Answer questions** about products, shipping, artisans
âœ… **Provide contact info** and website links
âœ… **Switch between English and Tanglish** naturally
âœ… **Handle gift recommendations** for different occasions
âœ… **Maintain conversation context** across messages

### Product Categories

- **Sarees**: Kanchipuram, Banarasi (â‚¹5,200 - â‚¹6,800)
- **Jewelry**: Terracotta sets (â‚¹3,200)
- **Home DÃ©cor**: Brass items, terracotta, bamboo (â‚¹450 - â‚¹2,200)
- **Toys**: Wooden Channapatna toys (â‚¹600 - â‚¹1,800)
- **Bags**: Jute bags (â‚¹350 - â‚¹650)
- **Accessories**: Scarves, journals (â‚¹450 - â‚¹1,650)

---

## ğŸ¯ Best Practices

### For Better Conversations

1. **Keep responses short** - Bot uses 2-4 sentences
2. **Use emojis** - Makes conversation friendly
3. **Mention prices** - Always include when suggesting products
4. **Provide options** - Use suggestions array for quick replies
5. **Be helpful** - Focus on solving customer needs

### For Better Performance

1. **Monitor webhook logs** - Check Vercel dashboard
2. **Track conversation metrics** - Use SalesIQ analytics
3. **Update product info** - Keep `api/webhook.js` current
4. **Test regularly** - Ensure bot works as expected
5. **Gather feedback** - Ask customers about bot experience

---

## ğŸ“ Support

**Webhook URL**: `https://chatbot-vaangigo.vercel.app/api/webhook`

**Test Endpoint**: `https://chatbot-vaangigo.vercel.app/api/webhook` (GET request)

**Website**: indicraft.vercel.app

**Contact**: hello@indicraft.com | 8610677504

**GitHub**: https://github.com/tharunkumardeveloper/Vaangigo

---

## ğŸ”„ Updates

### To Update Bot Responses

1. Edit `api/webhook.js` in your repository
2. Modify system prompts or product list
3. Commit and push to GitHub
4. Vercel auto-deploys (30 seconds)
5. Test in Zobot - changes are live!

### To Add New Products

Edit the `PRODUCTS` section in `api/webhook.js`:

```javascript
PRODUCTS (Vaangigo - indicraft.vercel.app):
- New Product Name â‚¹Price (Ratingâ˜…) - Description
```

---

## ğŸ‰ Success!

Your Vaangigo Zobot is now live! Customers can chat with Venmathi 24/7 to discover beautiful handmade Indian crafts. 

**Next Steps**:
1. Monitor conversations in SalesIQ dashboard
2. Collect customer feedback
3. Refine bot responses based on common questions
4. Add more products as inventory grows
5. Consider adding human handoff for complex queries

Happy chatting! ğŸš€âœ¨
